# (C) British Crown Copyright 2018-2023, Met Office.
# Please see LICENSE.md for license details.
#
# This 'model to MIP mappings' configuration file contains sections
# for each 'MIP requested variable name' that has a HadGEM3
# 'model to MIP mapping'. Please see the 'User Guide' for more
# information.

[DEFAULT]
positive = None
reviewer = N/A
status = embargoed

[COMMON]
ocean_zstar_comment = This variable is reported using a z* coordinate system
    rather than the z-level system indicated by the metadata. Where this is
    important to analysis please consider the information in time-varying
    variables thkcello or zfullo.

[baresoilFrac]
component = land
dimension = longitude latitude typebare time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='bareSoil')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[c3PftFrac]
component = land
dimension = longitude latitude typec3pft time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='c3')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[c4PftFrac]
component = land
dimension = longitude latitude typec4pft time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='c4')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[grassFrac]
component = land
dimension = longitude latitude typenatgr time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='grass')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[hfcorr]
component = ocean
dimension = longitude latitude time
expression = hfcorr
mip_table_id = Omon OPmon
positive = down
reviewer = Matthew Couldrey <m.p.couldrey@reading.ac.uk>
status = ok
units = W m-2

[hus1000]
component = atmos-physics
dimension = longitude latitude time p1000
expression = m01s30i295[blev=P1000, lbproc=128] / m01s30i304[blev=P1000, lbproc=128]
mip_table_id = GCAmon GCday mon day 6hr
units = 1

[lai]
component = land
dimension = longitude latitude time
expression = land_class_mean(m01s03i318[lbproc=128], m01s03i317[lbproc=128],
    land_class='natural')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = 1

[pathetao]
component = ocean
dimension = longitude latitude olevel time
expression = pathetao
mip_table_id = Emon OPmonLev
reviewer = Matthew Couldrey <m.p.couldrey@reading.ac.uk>
status = ok
units = degC

[pr]
component = atmos-physics
dimension = longitude latitude time
expression = m01s05i216[lbproc=128]
mip_table_id = 3hr 6hrPlev Amon E1hr day CresAERday AP1hr AP3hr AP6hr APday APmon mon 1hr
reviewer = Gill Martin <gill.martin@metoffice.gov.uk>
status = ok
units = kg m-2 s-1
valid_min = 0.0

[prthetao]
component = ocean
dimension = longitude latitude olevel time
expression = prthetao
mip_table_id = Emon OPmonLev
reviewer = Matthew Couldrey <m.p.couldrey@reading.ac.uk>
status = ok
units = degC

[psl]
component = atmos-physics
dimension = longitude latitude time
expression = m01s16i222[lbproc=128]
mip_table_id = 6hrPlev Amon day APmon AP6hr APday
reviewer = Gill Martin <gill.martin@metoffice.gov.uk>
status = ok
units = Pa

[residualFrac]
comment = Fraction of entire grid cell that is land and is covered by
    'non-vegetation' and 'non-bare-soil' (e.g., urban, ice, lakes, etc.).
component = land
dimension = longitude latitude typeresidual time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='residual')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[shrubFrac]
component = land
dimension = longitude latitude typeshrub time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='shrub')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[siage]
component = seaice
dimension = longitude latitude time
expression = iage * SECONDS_IN_DAY * DAYS_IN_YEAR
mip_table_id = SImon
reviewer = Alex West <alex.west@metoffice.gov.uk>
status = ok
units = s

[sithick]
component = seaice
dimension = longitude latitude time
expression = sithick
mip_table_id = SImon
reviewer = Alex West <alex.west@metoffice.gov.uk>
status = ok
units = m

[siu]
component = seaice
dimension = longitude latitude time
expression = siu
mip_table_id = SImon
reviewer = Alex West <alex.west@metoffice.gov.uk>
status = ok
units = m s-1

[siv]
component = seaice
dimension = longitude latitude time
expression = siv
mip_table_id = SImon
reviewer = Alex West <alex.west@metoffice.gov.uk>
status = ok
units = m s-1

[tas]
component = boundary-layer
dimension = longitude latitude height2m time
expression = m01s03i236[lbproc=128]
mip_table_id = 6hrPlev Amon day CresAERday Cres1HrMn AP6hr APday APmon mon 1hr
reviewer = Martin Andrews <martin.andrews@metoffice.gov.uk>
status = ok
units = K

[tauuo]
component = ocean
dimension = longitude latitude time
expression = mask_copy(tauuo, mask_2D_U)
mip_table_id = Omon OPmon
positive = down
reviewer = Daley Calvert <daley.calvert@metoffice.gov.uk>
status = ok
units = N m-2

[tauvo]
component = ocean
dimension = longitude latitude time
expression = mask_copy(tauvo, mask_2D_V)
mip_table_id = Omon OPmon
positive = down
reviewer = Daley Calvert <daley.calvert@metoffice.gov.uk>
status = ok
units = N m-2

[thkcello]
comment = ${COMMON:ocean_zstar_comment}
component = ocean
dimension = longitude latitude olevel time
expression = thkcello
mip_table_id = Omon OPmonLev
reviewer = Daley Calvert <daley.calvert@metoffice.gov.uk>
status = ok
units = m

[tos]
component = ocean
dimension = longitude latitude time
expression = tos
mip_table_id = Oday Omon OPmon OPday
reviewer = Daley Calvert <daley.calvert@metoffice.gov.uk>
status = ok
units = degC

[treeFrac]
component = land
dimension = longitude latitude typetree time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='tree')
mip_table_id = Lmon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[treeFracBdlDcd]
component = land
dimension = longitude latitude typetreebd time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='broadLeafTreeDeciduous')
mip_table_id = Emon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[treeFracNdlEvg]
component = land
dimension = longitude latitude typetreene time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='needleLeafTreeEvergreen')
mip_table_id = Emon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[uas]
component = boundary-layer
dimension = longitude latitude height10m time
expression = m01s03i209[lbproc=128]
mip_table_id = 6hrPlev Amon E3hr day AP6hr APday APmon AP3hr
reviewer = Gill Martin <gill.martin@metoffice.gov.uk>
status = ok
units = m s-1

[vas]
component = boundary-layer
dimension = longitude latitude height10m time
expression = m01s03i210[lbproc=128]
mip_table_id = 6hrPlev Amon E3hr day AP3hr AP6hr APday APmon
reviewer = Gill Martin <gill.martin@metoffice.gov.uk>
status = ok
units = m s-1

[vegFrac]
component = land
dimension = longitude latitude typeveg time
expression = land_class_area(m01s03i317[lbproc=128], m01s03i395[lbproc=128],
    land_class='natural')
mip_table_id = Emon LPmon
reviewer = Ron Kahana <ron.kahana@metoffice.gov.uk>
status = ok
units = %

[vtem]
comment = All data at and below 700 hPa have been masked.
component = atmos-physics
dimension = latitude plev39 time
expression = mask_vtem(m01s30i310[blev=PLEV39, lbproc=192],
    m01s30i301[blev=PLEV39, lbproc=192])
mip_table_id = EdayZ EmonZ APmonZ APdayZ
reviewer = Steven Hardiman <steven.hardiman@metoffice.gov.uk>
status = ok
units = m s-1

[zostoga]
comment = Calculated using the first annual mean
    of the corresponding piControl experiment as the reference state.
component = ocean
dimension = time
expression = calc_zostoga(thetao, thkcello, areacello,
                          zfullo_0, so_0, rho_0_mean, deptho_0_mean)
mip_table_id = Omon OPmon
reviewer = Daley Calvert <daley.calvert@metoffice.gov.uk>
status = ok
units = m
