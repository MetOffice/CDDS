
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>CDDS Extract &#8212; CDDS 2.5.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDDS 2.5.8 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CDDS Extract</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cdds-extract">
<h1>CDDS Extract<a class="headerlink" href="#cdds-extract" title="Permalink to this headline">¶</a></h1>
<p>The Extract package enables a user to extract a subset of climate model output files from the MASS tape archive. This is useful because raw atmosphere and ocean output is stored in massive files, containing multiple fields, and their large volume make all processing very slow. Before data transfer happens, Extract selects only relevant bits of output, necessary to produce the requested, CMORised variables.</p>
<p>Since CDDS 2.2, Extract is embedded within the <code class="docutils literal notranslate"><span class="pre">cdds_convert</span></code> script, and it is no longer necessary to run it as a separate process. It is also worth mentioning that despite working with only a subset of climate model output, data transfer from MASS is typically the longest step in the whole CDDS processing pipeline, can take many days, and is prone to failures caused by MASS misbehaviour.</p>
<section id="an-overview-of-extract">
<h2>An overview of Extract<a class="headerlink" href="#an-overview-of-extract" title="Permalink to this headline">¶</a></h2>
<p>The user configures the extraction process using the <code class="docutils literal notranslate"><span class="pre">request</span></code> file.
The cdds_extract script then performs the following processing steps:</p>
<ul class="simple">
<li><p>retrieves the data dissemination configuration from the <code class="docutils literal notranslate"><span class="pre">request</span></code> file.</p></li>
<li><p>retrieves the <code class="docutils literal notranslate"><span class="pre">requested</span> <span class="pre">variables</span> <span class="pre">list</span></code> for the experiment.</p></li>
<li><p>retrieves the <code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">to</span> <span class="pre">MIP</span> <span class="pre">mapping</span></code> for each <code class="docutils literal notranslate"><span class="pre">MIP</span> <span class="pre">requested</span> <span class="pre">variable</span></code></p></li>
<li><p>logs information on the variables for which authorised mappings are available and variables/mappings that are not available and why.</p></li>
<li><p>creates directories for holding the retrieved data from MASS, the post-processed data which will be disseminated and the directories used to hold the artifacts used by other cdds processes (e.g. log files)</p></li>
<li><p>creates appropriate PP and netCDF variable filter files that are used to filter the data retrieved from MASS before it is copied to disk.</p></li>
<li><p>checks that MASS holds the relevant data collections and constructs MOOSE commands that will retrieve the required model data from these data collections (optionally incorporating the relevant filter files)</p></li>
<li><p>submits constructed MOOSE commands and reports progress in text logs</p></li>
<li><p>performs validation on the retrieved data to check it meets processing requirement</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">CDDS Extract</a><ul>
<li><a class="reference internal" href="#an-overview-of-extract">An overview of Extract</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/wiki/CDDS-Extract.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDDS 2.5.8 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CDDS Extract</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright British Crown 2015-2023, Met Office.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>